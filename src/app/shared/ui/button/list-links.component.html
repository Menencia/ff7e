<ul class="list">
  @for (link of links(); track $index) {
    <li class="group border-t-1 border-gray-200 px-3 dark:border-gray-500 hover:bg-gray-100 hover:dark:bg-gray-700">
      @if (link.type === 'internal') {
        <a [routerLink]="link.url">
          <ng-container *ngTemplateOutlet="linkContent; context: {$implicit: link}"></ng-container>
        </a>
      }
      @if(link.type === 'direct_link') {
        <a [href]="link.url" target="_blank">
          <ng-container *ngTemplateOutlet="linkContent; context: {$implicit: link}"></ng-container>
        </a>
      }
      @if (link.type === 'download') {
        <a [href]="link.url" download target="_self">
          <ng-container *ngTemplateOutlet="linkContent; context: {$implicit: link}"></ng-container>
        </a>
      }
    </li>
  }
</ul>

<ng-template #linkContent let-link>
  <div class="button border-1 border-gray-200 text-gray-300 group-hover:text-gray-700 border-t-transparent dark:bg-red-400 dark:text-gray-300 dark:border-red-400">
    {{ link.action }}
  </div>
  <span class="li-first">
    @if(link.icon) { <fa-icon [icon]="link.icon" /> }
    @if (link.label) {
      <span class="label">{{ link.label }}</span>
    }
    {{ link.text }}
  </span>
  <span class="li-second">{{ link.subtext }}</span>
</ng-template>
